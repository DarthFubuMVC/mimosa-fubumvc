"use strict";
var path, _;

_ = require("lodash");

path = require('path');

exports.defaults = function() {
  return {
    fubumvc: {
      excludePaths: ["bin", "obj", /^\./]
    }
  };
};

exports.placeholder = function() {
  return "\t\n\n# fubumvc:\n  # excludePaths: [\"bin\", \"obj\", /^\./]";
};

exports.validate = function(config, validators) {
  var allItemsOk, assetIgnorePaths, compiledDir, errors, excludePaths, fubumvc, sourceDir, _ref;
  errors = [];
  fubumvc = config.fubumvc;
  if (!((fubumvc != null) && _.isObject(fubumvc))) {
    errors.push("fubumvc config");
    return errors;
  }
  excludePaths = fubumvc.excludePaths;
  if (!((excludePaths != null) && _.isArray(excludePaths))) {
    errors.push("fubumvc.excludePaths");
    return errors;
  }
  allItemsOk = _.all(excludePaths, function(item) {
    return _.isString(item) || _.isRegExp(item);
  });
  if (!allItemsOk) {
    errors.push("fubumvc.excludePaths entries must be either strings or regexes");
    return errors;
  }
  _ref = config.watch, sourceDir = _ref.sourceDir, compiledDir = _ref.compiledDir;
  assetIgnorePaths = _.map([sourceDir, compiledDir], function(p) {
    return path.basename(p);
  });
  config.fubumvc.excludePaths = excludePaths.concat(assetIgnorePaths);
  return errors;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXGxpYlxcY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXHNyY1xcY29uZmlnLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLENBQUE7QUFBQSxJQUFBLE9BQUE7O0FBQUEsQ0FFQSxHQUFJLE9BQUEsQ0FBUSxRQUFSLENBRkosQ0FBQTs7QUFBQSxJQUdBLEdBQU8sT0FBQSxDQUFRLE1BQVIsQ0FIUCxDQUFBOztBQUFBLE9BS08sQ0FBQyxRQUFSLEdBQW1CLFNBQUEsR0FBQTtTQUNqQjtBQUFBLElBQUEsT0FBQSxFQUNFO0FBQUEsTUFBQSxZQUFBLEVBQWMsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsQ0FBZDtLQURGO0lBRGlCO0FBQUEsQ0FMbkIsQ0FBQTs7QUFBQSxPQVNPLENBQUMsV0FBUixHQUFzQixTQUFBLEdBQUE7U0FDcEIsZ0VBRG9CO0FBQUEsQ0FUdEIsQ0FBQTs7QUFBQSxPQWlCTyxDQUFDLFFBQVIsR0FBbUIsU0FBQyxNQUFELEVBQVMsVUFBVCxHQUFBO0FBQ2pCLE1BQUEseUZBQUE7QUFBQSxFQUFBLE1BQUEsR0FBUyxFQUFULENBQUE7QUFBQSxFQUNDLFVBQVcsT0FBWCxPQURELENBQUE7QUFFQSxFQUFBLElBQUEsQ0FBQSxDQUFPLGlCQUFBLElBQWEsQ0FBQyxDQUFDLFFBQUYsQ0FBVyxPQUFYLENBQXBCLENBQUE7QUFDRSxJQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksZ0JBQVosQ0FBQSxDQUFBO0FBQ0EsV0FBTyxNQUFQLENBRkY7R0FGQTtBQUFBLEVBTUMsZUFBZ0IsUUFBaEIsWUFORCxDQUFBO0FBT0EsRUFBQSxJQUFBLENBQUEsQ0FBTyxzQkFBQSxJQUFrQixDQUFDLENBQUMsT0FBRixDQUFVLFlBQVYsQ0FBekIsQ0FBQTtBQUNFLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxzQkFBWixDQUFBLENBQUE7QUFDQSxXQUFPLE1BQVAsQ0FGRjtHQVBBO0FBQUEsRUFXQSxVQUFBLEdBQWEsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxZQUFOLEVBQW9CLFNBQUMsSUFBRCxHQUFBO1dBQy9CLENBQUMsQ0FBQyxRQUFGLENBQVcsSUFBWCxDQUFBLElBQW9CLENBQUMsQ0FBQyxRQUFGLENBQVcsSUFBWCxFQURXO0VBQUEsQ0FBcEIsQ0FYYixDQUFBO0FBY0EsRUFBQSxJQUFBLENBQUEsVUFBQTtBQUNFLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxnRUFBWixDQUFBLENBQUE7QUFDQSxXQUFPLE1BQVAsQ0FGRjtHQWRBO0FBQUEsU0FtQm9DLE9BQW5DLE9BQVEsaUJBQUEsV0FBVyxtQkFBQSxXQW5CcEIsQ0FBQTtBQUFBLEVBb0JBLGdCQUFBLEdBQW1CLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxTQUFELEVBQVksV0FBWixDQUFOLEVBQWdDLFNBQUMsQ0FBRCxHQUFBO1dBQU8sSUFBSSxDQUFDLFFBQUwsQ0FBYyxDQUFkLEVBQVA7RUFBQSxDQUFoQyxDQXBCbkIsQ0FBQTtBQUFBLEVBc0JBLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBZixHQUE4QixZQUFZLENBQUMsTUFBYixDQUFvQixnQkFBcEIsQ0F0QjlCLENBQUE7U0F3QkEsT0F6QmlCO0FBQUEsQ0FqQm5CLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxuXG5fID0gcmVxdWlyZSBcImxvZGFzaFwiXG5wYXRoID0gcmVxdWlyZSAncGF0aCdcblxuZXhwb3J0cy5kZWZhdWx0cyA9IC0+XG4gIGZ1YnVtdmM6XG4gICAgZXhjbHVkZVBhdGhzOiBbXCJiaW5cIiwgXCJvYmpcIiwgL15cXC4vXVxuXG5leHBvcnRzLnBsYWNlaG9sZGVyID0gLT5cbiAgXCJcIlwiXG4gIFxcdFxuXG4gICMgZnVidW12YzpcbiAgICAjIGV4Y2x1ZGVQYXRoczogW1wiYmluXCIsIFwib2JqXCIsIC9eXFwuL11cbiAgXCJcIlwiXG5cbmV4cG9ydHMudmFsaWRhdGUgPSAoY29uZmlnLCB2YWxpZGF0b3JzKSAtPlxuICBlcnJvcnMgPSBbXVxuICB7ZnVidW12Y30gPSBjb25maWdcbiAgdW5sZXNzIGZ1YnVtdmM/IGFuZCBfLmlzT2JqZWN0IGZ1YnVtdmNcbiAgICBlcnJvcnMucHVzaCBcImZ1YnVtdmMgY29uZmlnXCJcbiAgICByZXR1cm4gZXJyb3JzXG5cbiAge2V4Y2x1ZGVQYXRoc30gPSBmdWJ1bXZjXG4gIHVubGVzcyBleGNsdWRlUGF0aHM/IGFuZCBfLmlzQXJyYXkgZXhjbHVkZVBhdGhzXG4gICAgZXJyb3JzLnB1c2ggXCJmdWJ1bXZjLmV4Y2x1ZGVQYXRoc1wiXG4gICAgcmV0dXJuIGVycm9yc1xuXG4gIGFsbEl0ZW1zT2sgPSBfLmFsbCBleGNsdWRlUGF0aHMsIChpdGVtKSAtPlxuICAgIF8uaXNTdHJpbmcoaXRlbSkgb3IgXy5pc1JlZ0V4cChpdGVtKVxuXG4gIHVubGVzcyBhbGxJdGVtc09rXG4gICAgZXJyb3JzLnB1c2ggXCJmdWJ1bXZjLmV4Y2x1ZGVQYXRocyBlbnRyaWVzIG11c3QgYmUgZWl0aGVyIHN0cmluZ3Mgb3IgcmVnZXhlc1wiXG4gICAgcmV0dXJuIGVycm9yc1xuXG4gICNhdXRvLWluY2x1ZGUgdGhlIHNvdXJjZURpciBhbmQgY29tcGlsZWREaXIgaW50byBleGNsdWRlUGF0aHMgbGlzdFxuICB7d2F0Y2g6IHtzb3VyY2VEaXIsIGNvbXBpbGVkRGlyfX0gPSBjb25maWdcbiAgYXNzZXRJZ25vcmVQYXRocyA9IF8ubWFwIFtzb3VyY2VEaXIsIGNvbXBpbGVkRGlyXSwgKHApIC0+IHBhdGguYmFzZW5hbWUgcFxuXG4gIGNvbmZpZy5mdWJ1bXZjLmV4Y2x1ZGVQYXRocyA9IGV4Y2x1ZGVQYXRocy5jb25jYXQgYXNzZXRJZ25vcmVQYXRoc1xuXG4gIGVycm9yc1xuIl19
