"use strict";
var path, _;

_ = require("lodash");

path = require('path');

exports.defaults = function() {
  return {
    fubumvc: {
      excludePaths: ["bin", "obj", /^\./]
    }
  };
};

exports.placeholder = function() {
  return "\t\n\n# fubumvc:\n  # excludePaths: [\"bin\", \"obj\", /^\./]";
};

exports.validate = function(config, validators) {
  var allItemsOk, assetIgnorePaths, compiledDir, errors, excludePaths, fubumvc, sourceDir, _ref;
  errors = [];
  fubumvc = config.fubumvc;
  if (!((fubumvc != null) && _.isObject(fubumvc))) {
    errors.push("fubumvc config");
    return errors;
  }
  excludePaths = fubumvc.excludePaths;
  if (!((excludePaths != null) && _.isArray(excludePaths))) {
    errors.push("fubumvc.excludePaths");
    return errors;
  }
  allItemsOk = _.all(excludePaths, function(item) {
    return _.isString(item) || _.isRegExp(item);
  });
  if (!allItemsOk) {
    errors.push("fubumvc.excludePaths entries must be either strings or regexes");
    return errors;
  }
  _ref = config.watch, sourceDir = _ref.sourceDir, compiledDir = _ref.compiledDir;
  assetIgnorePaths = _.map([sourceDir, compiledDir], function(p) {
    return path.basename(p);
  });
  config.fubumvc.excludePaths = [].concat.apply(excludePaths, assetIgnorePaths);
  return errors;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXEhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXGxpYlxcY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYzpcXEhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXHNyY1xcY29uZmlnLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLENBQUE7QUFBQSxJQUFBLE9BQUE7O0FBQUEsQ0FFQSxHQUFJLE9BQUEsQ0FBUSxRQUFSLENBRkosQ0FBQTs7QUFBQSxJQUdBLEdBQU8sT0FBQSxDQUFRLE1BQVIsQ0FIUCxDQUFBOztBQUFBLE9BS08sQ0FBQyxRQUFSLEdBQW1CLFNBQUEsR0FBQTtTQUNqQjtBQUFBLElBQUEsT0FBQSxFQUNFO0FBQUEsTUFBQSxZQUFBLEVBQWMsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsQ0FBZDtLQURGO0lBRGlCO0FBQUEsQ0FMbkIsQ0FBQTs7QUFBQSxPQVNPLENBQUMsV0FBUixHQUFzQixTQUFBLEdBQUE7U0FDcEIsZ0VBRG9CO0FBQUEsQ0FUdEIsQ0FBQTs7QUFBQSxPQWlCTyxDQUFDLFFBQVIsR0FBbUIsU0FBQyxNQUFELEVBQVMsVUFBVCxHQUFBO0FBQ2pCLE1BQUEseUZBQUE7QUFBQSxFQUFBLE1BQUEsR0FBUyxFQUFULENBQUE7QUFBQSxFQUNDLFVBQVcsT0FBWCxPQURELENBQUE7QUFFQSxFQUFBLElBQUEsQ0FBQSxDQUFPLGlCQUFBLElBQWEsQ0FBQyxDQUFDLFFBQUYsQ0FBVyxPQUFYLENBQXBCLENBQUE7QUFDRSxJQUFBLE1BQU0sQ0FBQyxJQUFQLENBQVksZ0JBQVosQ0FBQSxDQUFBO0FBQ0EsV0FBTyxNQUFQLENBRkY7R0FGQTtBQUFBLEVBTUMsZUFBZ0IsUUFBaEIsWUFORCxDQUFBO0FBT0EsRUFBQSxJQUFBLENBQUEsQ0FBTyxzQkFBQSxJQUFrQixDQUFDLENBQUMsT0FBRixDQUFVLFlBQVYsQ0FBekIsQ0FBQTtBQUNFLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxzQkFBWixDQUFBLENBQUE7QUFDQSxXQUFPLE1BQVAsQ0FGRjtHQVBBO0FBQUEsRUFXQSxVQUFBLEdBQWEsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxZQUFOLEVBQW9CLFNBQUMsSUFBRCxHQUFBO1dBQy9CLENBQUMsQ0FBQyxRQUFGLENBQVcsSUFBWCxDQUFBLElBQW9CLENBQUMsQ0FBQyxRQUFGLENBQVcsSUFBWCxFQURXO0VBQUEsQ0FBcEIsQ0FYYixDQUFBO0FBY0EsRUFBQSxJQUFBLENBQUEsVUFBQTtBQUNFLElBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxnRUFBWixDQUFBLENBQUE7QUFDQSxXQUFPLE1BQVAsQ0FGRjtHQWRBO0FBQUEsU0FtQm9DLE9BQW5DLE9BQVEsaUJBQUEsV0FBVyxtQkFBQSxXQW5CcEIsQ0FBQTtBQUFBLEVBb0JBLGdCQUFBLEdBQW1CLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxTQUFELEVBQVksV0FBWixDQUFOLEVBQWdDLFNBQUMsQ0FBRCxHQUFBO1dBQU8sSUFBSSxDQUFDLFFBQUwsQ0FBYyxDQUFkLEVBQVA7RUFBQSxDQUFoQyxDQXBCbkIsQ0FBQTtBQUFBLEVBc0JBLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBZixHQUE4QixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQVYsQ0FBZ0IsWUFBaEIsRUFBOEIsZ0JBQTlCLENBdEI5QixDQUFBO1NBd0JBLE9BekJpQjtBQUFBLENBakJuQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcblxuXyA9IHJlcXVpcmUgXCJsb2Rhc2hcIlxucGF0aCA9IHJlcXVpcmUgJ3BhdGgnXG5cbmV4cG9ydHMuZGVmYXVsdHMgPSAtPlxuICBmdWJ1bXZjOlxuICAgIGV4Y2x1ZGVQYXRoczogW1wiYmluXCIsIFwib2JqXCIsIC9eXFwuL11cblxuZXhwb3J0cy5wbGFjZWhvbGRlciA9IC0+XG4gIFwiXCJcIlxuICBcXHRcblxuICAjIGZ1YnVtdmM6XG4gICAgIyBleGNsdWRlUGF0aHM6IFtcImJpblwiLCBcIm9ialwiLCAvXlxcLi9dXG4gIFwiXCJcIlxuXG5leHBvcnRzLnZhbGlkYXRlID0gKGNvbmZpZywgdmFsaWRhdG9ycykgLT5cbiAgZXJyb3JzID0gW11cbiAge2Z1YnVtdmN9ID0gY29uZmlnXG4gIHVubGVzcyBmdWJ1bXZjPyBhbmQgXy5pc09iamVjdCBmdWJ1bXZjXG4gICAgZXJyb3JzLnB1c2ggXCJmdWJ1bXZjIGNvbmZpZ1wiXG4gICAgcmV0dXJuIGVycm9yc1xuXG4gIHtleGNsdWRlUGF0aHN9ID0gZnVidW12Y1xuICB1bmxlc3MgZXhjbHVkZVBhdGhzPyBhbmQgXy5pc0FycmF5IGV4Y2x1ZGVQYXRoc1xuICAgIGVycm9ycy5wdXNoIFwiZnVidW12Yy5leGNsdWRlUGF0aHNcIlxuICAgIHJldHVybiBlcnJvcnNcblxuICBhbGxJdGVtc09rID0gXy5hbGwgZXhjbHVkZVBhdGhzLCAoaXRlbSkgLT5cbiAgICBfLmlzU3RyaW5nKGl0ZW0pIG9yIF8uaXNSZWdFeHAoaXRlbSlcblxuICB1bmxlc3MgYWxsSXRlbXNPa1xuICAgIGVycm9ycy5wdXNoIFwiZnVidW12Yy5leGNsdWRlUGF0aHMgZW50cmllcyBtdXN0IGJlIGVpdGhlciBzdHJpbmdzIG9yIHJlZ2V4ZXNcIlxuICAgIHJldHVybiBlcnJvcnNcblxuICAjYXV0by1pbmNsdWRlIHRoZSBzb3VyY2VEaXIgYW5kIGNvbXBpbGVkRGlyIGludG8gZXhjbHVkZVBhdGhzIGxpc3RcbiAge3dhdGNoOiB7c291cmNlRGlyLCBjb21waWxlZERpcn19ID0gY29uZmlnXG4gIGFzc2V0SWdub3JlUGF0aHMgPSBfLm1hcCBbc291cmNlRGlyLCBjb21waWxlZERpcl0sIChwKSAtPiBwYXRoLmJhc2VuYW1lIHBcblxuICBjb25maWcuZnVidW12Yy5leGNsdWRlUGF0aHMgPSBbXS5jb25jYXQuYXBwbHkgZXhjbHVkZVBhdGhzLCBhc3NldElnbm9yZVBhdGhzXG5cbiAgZXJyb3JzXG4iXX0=
