"use strict";
var config, fubuImport, registerCommand, registration, scaffolding;

config = require('./config');

fubuImport = require('./fubu-import');

scaffolding = require('./scaffolding');

registration = function(mimosaConfig, register) {
  register(['preBuild'], 'init', fubuImport.importAssets);
  return register(['postClean'], 'init', fubuImport.cleanAssets);
};

registerCommand = function(program, retrieveConfig) {
  program.command('fubu:init').description("bower.json and mimosa-config, 'coffee' flag for coffee").action(function(args) {
    return scaffolding.setupFileSystem(args, retrieveConfig);
  });
  return program.command('fubu:reset').description("rm -rf on assets and public then runs fubu:init").action(function(args) {
    return scaffolding.resetFileSystem(args, retrieveConfig);
  });
};

module.exports = {
  registration: registration,
  registerCommand: registerCommand,
  defaults: config.defaults,
  placeholder: config.placeholder,
  validate: config.validate
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3NtaXRobS9kZXYvbWltb3NhLWZ1YnVtdmMvbGliL2luZGV4LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL3NtaXRobS9kZXYvbWltb3NhLWZ1YnVtdmMvc3JjL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFBLENBQUE7QUFBQSxJQUFBLDhEQUFBOztBQUFBLE1BRUEsR0FBUyxPQUFBLENBQVEsVUFBUixDQUZULENBQUE7O0FBQUEsVUFHQSxHQUFhLE9BQUEsQ0FBUSxlQUFSLENBSGIsQ0FBQTs7QUFBQSxXQUlBLEdBQWMsT0FBQSxDQUFRLGVBQVIsQ0FKZCxDQUFBOztBQUFBLFlBTUEsR0FBZSxTQUFDLFlBQUQsRUFBZSxRQUFmLEdBQUE7QUFDYixFQUFBLFFBQUEsQ0FBUyxDQUFDLFVBQUQsQ0FBVCxFQUF1QixNQUF2QixFQUErQixVQUFVLENBQUMsWUFBMUMsQ0FBQSxDQUFBO1NBQ0EsUUFBQSxDQUFTLENBQUMsV0FBRCxDQUFULEVBQXdCLE1BQXhCLEVBQWdDLFVBQVUsQ0FBQyxXQUEzQyxFQUZhO0FBQUEsQ0FOZixDQUFBOztBQUFBLGVBVUEsR0FBa0IsU0FBQyxPQUFELEVBQVUsY0FBVixHQUFBO0FBQ2hCLEVBQUEsT0FDRSxDQUFDLE9BREgsQ0FDVyxXQURYLENBRUUsQ0FBQyxXQUZILENBRWUsd0RBRmYsQ0FHRSxDQUFDLE1BSEgsQ0FHVSxTQUFDLElBQUQsR0FBQTtXQUNOLFdBQVcsQ0FBQyxlQUFaLENBQTRCLElBQTVCLEVBQWtDLGNBQWxDLEVBRE07RUFBQSxDQUhWLENBQUEsQ0FBQTtTQUtBLE9BQ0UsQ0FBQyxPQURILENBQ1csWUFEWCxDQUVFLENBQUMsV0FGSCxDQUVlLGlEQUZmLENBR0UsQ0FBQyxNQUhILENBR1UsU0FBQyxJQUFELEdBQUE7V0FDTixXQUFXLENBQUMsZUFBWixDQUE0QixJQUE1QixFQUFrQyxjQUFsQyxFQURNO0VBQUEsQ0FIVixFQU5nQjtBQUFBLENBVmxCLENBQUE7O0FBQUEsTUFzQk0sQ0FBQyxPQUFQLEdBQ0U7QUFBQSxFQUFBLFlBQUEsRUFBaUIsWUFBakI7QUFBQSxFQUNBLGVBQUEsRUFBaUIsZUFEakI7QUFBQSxFQUVBLFFBQUEsRUFBaUIsTUFBTSxDQUFDLFFBRnhCO0FBQUEsRUFHQSxXQUFBLEVBQWlCLE1BQU0sQ0FBQyxXQUh4QjtBQUFBLEVBSUEsUUFBQSxFQUFpQixNQUFNLENBQUMsUUFKeEI7Q0F2QkYsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiXG5cbmNvbmZpZyA9IHJlcXVpcmUgJy4vY29uZmlnJ1xuZnVidUltcG9ydCA9IHJlcXVpcmUgJy4vZnVidS1pbXBvcnQnXG5zY2FmZm9sZGluZyA9IHJlcXVpcmUgJy4vc2NhZmZvbGRpbmcnXG5cbnJlZ2lzdHJhdGlvbiA9IChtaW1vc2FDb25maWcsIHJlZ2lzdGVyKSAtPlxuICByZWdpc3RlciBbJ3ByZUJ1aWxkJ10sICdpbml0JywgZnVidUltcG9ydC5pbXBvcnRBc3NldHNcbiAgcmVnaXN0ZXIgWydwb3N0Q2xlYW4nXSwgJ2luaXQnLCBmdWJ1SW1wb3J0LmNsZWFuQXNzZXRzXG5cbnJlZ2lzdGVyQ29tbWFuZCA9IChwcm9ncmFtLCByZXRyaWV2ZUNvbmZpZykgLT5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdmdWJ1OmluaXQnKVxuICAgIC5kZXNjcmlwdGlvbihcImJvd2VyLmpzb24gYW5kIG1pbW9zYS1jb25maWcsICdjb2ZmZWUnIGZsYWcgZm9yIGNvZmZlZVwiKVxuICAgIC5hY3Rpb24gKGFyZ3MpIC0+XG4gICAgICBzY2FmZm9sZGluZy5zZXR1cEZpbGVTeXN0ZW0gYXJncywgcmV0cmlldmVDb25maWdcbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdmdWJ1OnJlc2V0JylcbiAgICAuZGVzY3JpcHRpb24oXCJybSAtcmYgb24gYXNzZXRzIGFuZCBwdWJsaWMgdGhlbiBydW5zIGZ1YnU6aW5pdFwiKVxuICAgIC5hY3Rpb24gKGFyZ3MpIC0+XG4gICAgICBzY2FmZm9sZGluZy5yZXNldEZpbGVTeXN0ZW0gYXJncywgcmV0cmlldmVDb25maWdcblxubW9kdWxlLmV4cG9ydHMgPVxuICByZWdpc3RyYXRpb246ICAgIHJlZ2lzdHJhdGlvblxuICByZWdpc3RlckNvbW1hbmQ6IHJlZ2lzdGVyQ29tbWFuZFxuICBkZWZhdWx0czogICAgICAgIGNvbmZpZy5kZWZhdWx0c1xuICBwbGFjZWhvbGRlcjogICAgIGNvbmZpZy5wbGFjZWhvbGRlclxuICB2YWxpZGF0ZTogICAgICAgIGNvbmZpZy52YWxpZGF0ZVxuIl19
