"use strict";
var config, fubuImport, registerCommand, registration, scaffolding;

config = require('./config');

fubuImport = require('./fubu-import');

scaffolding = require('./scaffolding');

registration = function(mimosaConfig, register) {
  register(['preBuild'], 'init', fubuImport.importAssets);
  return register(['postClean'], 'init', fubuImport.cleanAssets);
};

registerCommand = function(program, retrieveConfig) {
  program.command('fubu:init').description("bower.json and mimosa-config, 'coffee' flag for coffee").action(function(args) {
    return scaffolding.setupFileSystem(args, retrieveConfig);
  });
  return program.command('fubu:reset').description("rm -rf on assets and public then runs fubu:init").action(function(args) {
    return scaffolding.resetFileSystem(args, retrieveConfig);
  });
};

module.exports = {
  registration: registration,
  registerCommand: registerCommand,
  defaults: config.defaults,
  placeholder: config.placeholder,
  validate: config.validate
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXHByb2plY3RzXFxtaW1vc2EtZnVidW12Y1xcbGliXFxpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImM6XFxwcm9qZWN0c1xcbWltb3NhLWZ1YnVtdmNcXHNyY1xcaW5kZXguY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsQ0FBQTtBQUFBLElBQUEsOERBQUE7O0FBQUEsTUFFQSxHQUFTLE9BQUEsQ0FBUSxVQUFSLENBRlQsQ0FBQTs7QUFBQSxVQUdBLEdBQWEsT0FBQSxDQUFRLGVBQVIsQ0FIYixDQUFBOztBQUFBLFdBSUEsR0FBYyxPQUFBLENBQVEsZUFBUixDQUpkLENBQUE7O0FBQUEsWUFNQSxHQUFlLFNBQUMsWUFBRCxFQUFlLFFBQWYsR0FBQTtBQUNiLEVBQUEsUUFBQSxDQUFTLENBQUMsVUFBRCxDQUFULEVBQXVCLE1BQXZCLEVBQStCLFVBQVUsQ0FBQyxZQUExQyxDQUFBLENBQUE7U0FDQSxRQUFBLENBQVMsQ0FBQyxXQUFELENBQVQsRUFBd0IsTUFBeEIsRUFBZ0MsVUFBVSxDQUFDLFdBQTNDLEVBRmE7QUFBQSxDQU5mLENBQUE7O0FBQUEsZUFVQSxHQUFrQixTQUFDLE9BQUQsRUFBVSxjQUFWLEdBQUE7QUFDaEIsRUFBQSxPQUNFLENBQUMsT0FESCxDQUNXLFdBRFgsQ0FFRSxDQUFDLFdBRkgsQ0FFZSx3REFGZixDQUdFLENBQUMsTUFISCxDQUdVLFNBQUMsSUFBRCxHQUFBO1dBQ04sV0FBVyxDQUFDLGVBQVosQ0FBNEIsSUFBNUIsRUFBa0MsY0FBbEMsRUFETTtFQUFBLENBSFYsQ0FBQSxDQUFBO1NBS0EsT0FDRSxDQUFDLE9BREgsQ0FDVyxZQURYLENBRUUsQ0FBQyxXQUZILENBRWUsaURBRmYsQ0FHRSxDQUFDLE1BSEgsQ0FHVSxTQUFDLElBQUQsR0FBQTtXQUNOLFdBQVcsQ0FBQyxlQUFaLENBQTRCLElBQTVCLEVBQWtDLGNBQWxDLEVBRE07RUFBQSxDQUhWLEVBTmdCO0FBQUEsQ0FWbEIsQ0FBQTs7QUFBQSxNQXNCTSxDQUFDLE9BQVAsR0FDRTtBQUFBLEVBQUEsWUFBQSxFQUFpQixZQUFqQjtBQUFBLEVBQ0EsZUFBQSxFQUFpQixlQURqQjtBQUFBLEVBRUEsUUFBQSxFQUFpQixNQUFNLENBQUMsUUFGeEI7QUFBQSxFQUdBLFdBQUEsRUFBaUIsTUFBTSxDQUFDLFdBSHhCO0FBQUEsRUFJQSxRQUFBLEVBQWlCLE1BQU0sQ0FBQyxRQUp4QjtDQXZCRixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcblxuY29uZmlnID0gcmVxdWlyZSAnLi9jb25maWcnXG5mdWJ1SW1wb3J0ID0gcmVxdWlyZSAnLi9mdWJ1LWltcG9ydCdcbnNjYWZmb2xkaW5nID0gcmVxdWlyZSAnLi9zY2FmZm9sZGluZydcblxucmVnaXN0cmF0aW9uID0gKG1pbW9zYUNvbmZpZywgcmVnaXN0ZXIpIC0+XG4gIHJlZ2lzdGVyIFsncHJlQnVpbGQnXSwgJ2luaXQnLCBmdWJ1SW1wb3J0LmltcG9ydEFzc2V0c1xuICByZWdpc3RlciBbJ3Bvc3RDbGVhbiddLCAnaW5pdCcsIGZ1YnVJbXBvcnQuY2xlYW5Bc3NldHNcblxucmVnaXN0ZXJDb21tYW5kID0gKHByb2dyYW0sIHJldHJpZXZlQ29uZmlnKSAtPlxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ2Z1YnU6aW5pdCcpXG4gICAgLmRlc2NyaXB0aW9uKFwiYm93ZXIuanNvbiBhbmQgbWltb3NhLWNvbmZpZywgJ2NvZmZlZScgZmxhZyBmb3IgY29mZmVlXCIpXG4gICAgLmFjdGlvbiAoYXJncykgLT5cbiAgICAgIHNjYWZmb2xkaW5nLnNldHVwRmlsZVN5c3RlbSBhcmdzLCByZXRyaWV2ZUNvbmZpZ1xuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ2Z1YnU6cmVzZXQnKVxuICAgIC5kZXNjcmlwdGlvbihcInJtIC1yZiBvbiBhc3NldHMgYW5kIHB1YmxpYyB0aGVuIHJ1bnMgZnVidTppbml0XCIpXG4gICAgLmFjdGlvbiAoYXJncykgLT5cbiAgICAgIHNjYWZmb2xkaW5nLnJlc2V0RmlsZVN5c3RlbSBhcmdzLCByZXRyaWV2ZUNvbmZpZ1xuXG5tb2R1bGUuZXhwb3J0cyA9XG4gIHJlZ2lzdHJhdGlvbjogICAgcmVnaXN0cmF0aW9uXG4gIHJlZ2lzdGVyQ29tbWFuZDogcmVnaXN0ZXJDb21tYW5kXG4gIGRlZmF1bHRzOiAgICAgICAgY29uZmlnLmRlZmF1bHRzXG4gIHBsYWNlaG9sZGVyOiAgICAgY29uZmlnLnBsYWNlaG9sZGVyXG4gIHZhbGlkYXRlOiAgICAgICAgY29uZmlnLnZhbGlkYXRlXG4iXX0=
