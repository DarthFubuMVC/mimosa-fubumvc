"use strict";
var config, fubuImport, registerCommand, registration, scaffolding;

config = require('./config');

fubuImport = require('./fubu-import');

scaffolding = require('./scaffolding');

registration = function(mimosaConfig, register) {
  register(['preBuild'], 'init', fubuImport.importAssets);
  return register(['postClean'], 'init', fubuImport.cleanAssets);
};

registerCommand = function(program, retrieveConfig) {
  program.command('fubu:init').description("bower.json and mimosa-config, 'coffee' flag for coffee").action(function(args) {
    return scaffolding.setupFileSystem(args);
  });
  return program.command('fubu:reset').description("rm -rf on assets and public then runs fubu:init").action(function(args) {
    return scaffolding.resetFileSystem(args);
  });
};

module.exports = {
  registration: registration,
  registerCommand: registerCommand,
  defaults: config.defaults,
  placeholder: config.placeholder,
  validate: config.validate
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXGxpYlxcaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjOlxcaG9tZVxcZ2l0aHViXFxtaW1vc2EtZnVidW12Y1xcc3JjXFxpbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxDQUFBO0FBQUEsSUFBQSw4REFBQTs7QUFBQSxNQUVBLEdBQVMsT0FBQSxDQUFRLFVBQVIsQ0FGVCxDQUFBOztBQUFBLFVBR0EsR0FBYSxPQUFBLENBQVEsZUFBUixDQUhiLENBQUE7O0FBQUEsV0FJQSxHQUFjLE9BQUEsQ0FBUSxlQUFSLENBSmQsQ0FBQTs7QUFBQSxZQU1BLEdBQWUsU0FBQyxZQUFELEVBQWUsUUFBZixHQUFBO0FBQ2IsRUFBQSxRQUFBLENBQVMsQ0FBQyxVQUFELENBQVQsRUFBdUIsTUFBdkIsRUFBK0IsVUFBVSxDQUFDLFlBQTFDLENBQUEsQ0FBQTtTQUNBLFFBQUEsQ0FBUyxDQUFDLFdBQUQsQ0FBVCxFQUF3QixNQUF4QixFQUFnQyxVQUFVLENBQUMsV0FBM0MsRUFGYTtBQUFBLENBTmYsQ0FBQTs7QUFBQSxlQVVBLEdBQWtCLFNBQUMsT0FBRCxFQUFVLGNBQVYsR0FBQTtBQUNoQixFQUFBLE9BQ0UsQ0FBQyxPQURILENBQ1csV0FEWCxDQUVFLENBQUMsV0FGSCxDQUVlLHdEQUZmLENBR0UsQ0FBQyxNQUhILENBR1UsU0FBQyxJQUFELEdBQUE7V0FDTixXQUFXLENBQUMsZUFBWixDQUE0QixJQUE1QixFQURNO0VBQUEsQ0FIVixDQUFBLENBQUE7U0FLQSxPQUNFLENBQUMsT0FESCxDQUNXLFlBRFgsQ0FFRSxDQUFDLFdBRkgsQ0FFZSxpREFGZixDQUdFLENBQUMsTUFISCxDQUdVLFNBQUMsSUFBRCxHQUFBO1dBQ04sV0FBVyxDQUFDLGVBQVosQ0FBNEIsSUFBNUIsRUFETTtFQUFBLENBSFYsRUFOZ0I7QUFBQSxDQVZsQixDQUFBOztBQUFBLE1Bc0JNLENBQUMsT0FBUCxHQUNFO0FBQUEsRUFBQSxZQUFBLEVBQWlCLFlBQWpCO0FBQUEsRUFDQSxlQUFBLEVBQWlCLGVBRGpCO0FBQUEsRUFFQSxRQUFBLEVBQWlCLE1BQU0sQ0FBQyxRQUZ4QjtBQUFBLEVBR0EsV0FBQSxFQUFpQixNQUFNLENBQUMsV0FIeEI7QUFBQSxFQUlBLFFBQUEsRUFBaUIsTUFBTSxDQUFDLFFBSnhCO0NBdkJGLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxuXG5jb25maWcgPSByZXF1aXJlICcuL2NvbmZpZydcbmZ1YnVJbXBvcnQgPSByZXF1aXJlICcuL2Z1YnUtaW1wb3J0J1xuc2NhZmZvbGRpbmcgPSByZXF1aXJlICcuL3NjYWZmb2xkaW5nJ1xuXG5yZWdpc3RyYXRpb24gPSAobWltb3NhQ29uZmlnLCByZWdpc3RlcikgLT5cbiAgcmVnaXN0ZXIgWydwcmVCdWlsZCddLCAnaW5pdCcsIGZ1YnVJbXBvcnQuaW1wb3J0QXNzZXRzXG4gIHJlZ2lzdGVyIFsncG9zdENsZWFuJ10sICdpbml0JywgZnVidUltcG9ydC5jbGVhbkFzc2V0c1xuXG5yZWdpc3RlckNvbW1hbmQgPSAocHJvZ3JhbSwgcmV0cmlldmVDb25maWcpIC0+XG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnZnVidTppbml0JylcbiAgICAuZGVzY3JpcHRpb24oXCJib3dlci5qc29uIGFuZCBtaW1vc2EtY29uZmlnLCAnY29mZmVlJyBmbGFnIGZvciBjb2ZmZWVcIilcbiAgICAuYWN0aW9uIChhcmdzKSAtPlxuICAgICAgc2NhZmZvbGRpbmcuc2V0dXBGaWxlU3lzdGVtIGFyZ3NcbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdmdWJ1OnJlc2V0JylcbiAgICAuZGVzY3JpcHRpb24oXCJybSAtcmYgb24gYXNzZXRzIGFuZCBwdWJsaWMgdGhlbiBydW5zIGZ1YnU6aW5pdFwiKVxuICAgIC5hY3Rpb24gKGFyZ3MpIC0+XG4gICAgICBzY2FmZm9sZGluZy5yZXNldEZpbGVTeXN0ZW0gYXJnc1xuXG5tb2R1bGUuZXhwb3J0cyA9XG4gIHJlZ2lzdHJhdGlvbjogICAgcmVnaXN0cmF0aW9uXG4gIHJlZ2lzdGVyQ29tbWFuZDogcmVnaXN0ZXJDb21tYW5kXG4gIGRlZmF1bHRzOiAgICAgICAgY29uZmlnLmRlZmF1bHRzXG4gIHBsYWNlaG9sZGVyOiAgICAgY29uZmlnLnBsYWNlaG9sZGVyXG4gIHZhbGlkYXRlOiAgICAgICAgY29uZmlnLnZhbGlkYXRlXG4iXX0=
