"use strict";
var Rx, buildExtensions, clean, cleanAssets, color, copyFile, cwd, deleteDirectory, deleteFile, deleteFileSync, excludeStrategies, findBottles, findSourceFiles, fs, getTargets, importAssets, isExcludedByConfig, log, parseString, parseXml, path, prepareFileWatcher, shouldInclude, startWatching, trackCompletion, transformPath, watch, withoutPath, wrench, _;

log = require('./util').log;

color = require('ansi-color').set;

fs = require('fs');

path = require('path');

watch = require('chokidar');

wrench = require('wrench');

_ = require('lodash');

parseString = require('xml2js').parseString;

cwd = process.cwd();

Rx = require("rx");

findSourceFiles = function(from, extensions, excludes) {
  return wrench.readdirSyncRecursive(from).filter(function(f) {
    var isFile, isIncluded, originalFile;
    originalFile = path.join(from, f);
    isFile = fs.statSync(originalFile).isFile();
    isIncluded = shouldInclude(f, isFile, extensions, excludes);
    return isIncluded && isFile;
  }).map(function(f) {
    return path.join(from, f);
  });
};

shouldInclude = function(f, isFile, extensions, excludes) {
  var atRoot, excluded, ext, matchesExtension;
  extensions = extensions.map(function(ext) {
    return "." + ext;
  });
  ext = path.extname(f);
  matchesExtension = !isFile || _.contains(extensions, ext);
  atRoot = isFile && f.indexOf(path.sep) === -1;
  excluded = isExcludedByConfig(f, excludes);
  return matchesExtension && !excluded && !atRoot;
};

withoutPath = function(fromPath) {
  return function(input) {
    return input.replace("" + fromPath + path.sep, '');
  };
};

prepareFileWatcher = function(from, extensions, excludes, isBuild) {
  var adds, changes, errors, files, fixPath, numberOfFiles, observableFor, unlinks, watchSettings, watcher;
  files = findSourceFiles(from, extensions, excludes);
  numberOfFiles = files.length;
  fixPath = withoutPath(from);
  watchSettings = {
    ignored: function(file) {
      var f, isFile;
      isFile = fs.statSync(file).isFile();
      f = fixPath(file);
      return !(shouldInclude(f, isFile, extensions, excludes));
    },
    persistent: !isBuild,
    usePolling: true,
    interval: 500,
    binaryInterval: 1000
  };
  observableFor = function(event) {
    return Rx.Observable.fromEvent(watcher, event);
  };
  watcher = watch.watch(from, watchSettings);
  adds = observableFor("add");
  changes = observableFor("change");
  unlinks = observableFor("unlink");
  errors = (observableFor("error")).selectMany(function(e) {
    return Rx.Observable["throw"](e);
  });
  return {
    numberOfFiles: numberOfFiles,
    adds: adds,
    changes: changes,
    unlinks: unlinks,
    errors: errors
  };
};

startWatching = function(from, _arg, options, cb) {
  var adds, changes, deletes, errors, fromSource, initialCopy, numberOfFiles, unlinks;
  numberOfFiles = _arg.numberOfFiles, adds = _arg.adds, changes = _arg.changes, unlinks = _arg.unlinks, errors = _arg.errors;
  fromSource = function(obs) {
    return obs.merge(errors);
  };
  initialCopy = fromSource(adds).take(numberOfFiles);
  initialCopy.subscribe(function(f) {
    return copyFile(f, from, options);
  }, function(e) {
    log("warn", "File watching error: " + e);
    log("warn", "calling callback for initial copy: " + from);
    if (cb) {
      return cb();
    }
  }, function() {
    var ongoingCopy;
    ongoingCopy = fromSource(adds.merge(changes));
    ongoingCopy.subscribe(function(f) {
      return copyFile(f, from, options);
    }, function(e) {
      return log("warn", "File watching error: " + e);
    });
    log("debug", "calling callback for initial copy: " + from);
    if (cb) {
      return cb();
    }
  });
  deletes = fromSource(unlinks);
  return deletes.subscribe(function(f) {
    var outFile;
    outFile = transformPath(f, from, options);
    return deleteFile(outFile);
  }, function(e) {
    return log("warn", "File watching errors: " + e);
  });
};

copyFile = function(file, from, options) {
  return fs.readFile(file, function(err, data) {
    var dirname, outFile;
    if (err) {
      log("error", "Error reading file [[ " + file + " ]], " + err);
      return;
    }
    outFile = transformPath(file, from, options);
    dirname = path.dirname(outFile);
    if (!fs.existsSync(dirname)) {
      wrench.mkdirSyncRecursive(dirname, 0x1ff);
    }
    return fs.writeFile(outFile, data, function(err) {
      if (err) {
        return log("error", "Error reading file [[ " + file + " ]], " + err);
      } else {
        return log("success", "File copied to destination [[ " + outFile + " ]].");
      }
    });
  });
};

deleteFileSync = function(file) {
  if (fs.existsSync(file)) {
    fs.unlinkSync(file);
    return log("success", "File [[ " + file + " ]] deleted.");
  }
};

deleteFile = function(file) {
  return fs.exists(file, function(exists) {
    if (exists) {
      return fs.unlink(file, function(err) {
        if (err) {
          return log("error", "Error deleting file [[ " + file + " ]], " + err);
        } else {
          return log("success", "File [[ " + file + " ]] deleted.");
        }
      });
    }
  });
};

deleteDirectory = function(dir, cb) {
  if (fs.existsSync(dir)) {
    return fs.rmdir(dir, function(err) {
      if ((err != null ? err.code : void 0) === !"ENOTEMPTY") {
        log("error", "Unable to delete directory [[ " + dir + " ]]");
        log("error", err);
      } else {
        log("info", "Deleted empty directory [[ " + dir + " ]]");
      }
      if (cb) {
        return cb();
      }
    });
  } else {
    if (cb) {
      return cb();
    }
  }
};

transformPath = function(file, from, _arg) {
  var conventions, fixPath, result, sourceDir;
  sourceDir = _arg.sourceDir, conventions = _arg.conventions;
  fixPath = withoutPath(from);
  result = _.reduce(conventions, function(acc, _arg1) {
    var ext, match, transform;
    match = _arg1.match, transform = _arg1.transform;
    ext = path.extname(acc);
    if (match(acc, ext)) {
      return transform(acc, path);
    } else {
      return acc;
    }
  }, fixPath(file));
  return path.join(sourceDir, result);
};

excludeStrategies = {
  string: {
    identity: _.isString,
    predicate: function(ex, path) {
      return path.indexOf(ex) === 0;
    }
  },
  regex: {
    identity: _.isRegExp,
    predicate: function(ex, path) {
      return ex.test(path);
    }
  }
};

isExcludedByConfig = function(path, excludes) {
  var ofType;
  ofType = function(method) {
    return excludes.filter(function(f) {
      return method(f);
    });
  };
  return _.any(excludeStrategies, function(_arg) {
    var identity, predicate;
    identity = _arg.identity, predicate = _arg.predicate;
    return _.any(ofType(identity), function(ex) {
      return predicate(ex, path);
    });
  });
};

parseXml = function(content) {
  var result;
  result = {};
  parseString(content, function(err, output) {
    return result = output;
  });
  return result;
};

findBottles = function(sourceDir) {
  var bottles, data, encoding, linksFile, linksXml, _ref;
  linksFile = path.join(sourceDir, ".links");
  if (fs.existsSync(linksFile)) {
    encoding = "utf8";
    data = fs.readFileSync(linksFile, {
      encoding: encoding
    });
    linksXml = parseXml(data);
    bottles = (linksXml != null ? (_ref = linksXml.links) != null ? _ref.include : void 0 : void 0) || [];
    if (!(bottles && _.isArray(bottles))) {
      log("error", ".links file not valid");
      return;
    }
    return bottles;
  } else {
    return [];
  }
};

buildExtensions = function(config) {
  var copy, css, extensions, javascript, _ref;
  _ref = config.extensions, copy = _ref.copy, javascript = _ref.javascript, css = _ref.css;
  return extensions = _.union(copy, javascript, css);
};

importAssets = function(mimosaConfig, options, next) {
  var compiledDir, conventions, excludePaths, extensions, finish, importFrom, isBuild, sourceDir, targets, _ref;
  _ref = mimosaConfig.fubumvc, excludePaths = _ref.excludePaths, sourceDir = _ref.sourceDir, compiledDir = _ref.compiledDir, isBuild = _ref.isBuild, conventions = _ref.conventions;
  extensions = buildExtensions(mimosaConfig);
  log("debug", "importing assets");
  log("debug", "allowed extensions [[ " + extensions + " ]]");
  log("debug", "excludePaths [[ " + excludePaths + " ]]");
  importFrom = function(target, callback) {
    var fileWatcher;
    fileWatcher = prepareFileWatcher(target, extensions, excludePaths, isBuild);
    return startWatching(target, fileWatcher, {
      sourceDir: sourceDir,
      conventions: conventions
    }, callback);
  };
  targets = getTargets(cwd);
  finish = trackCompletion("importAssets", targets, next);
  _.each(targets, function(target) {
    return importFrom(target, function() {
      return finish(target);
    });
  });
};

getTargets = function(dir) {
  var bottles, targets;
  bottles = _.map(findBottles(dir), function(bottle) {
    return path.resolve(dir, bottle);
  });
  return targets = [].concat(bottles, [dir]);
};

cleanAssets = function(mimosaConfig, options, next) {
  var allTargetFiles, compiledDir, conventions, excludePaths, extensions, filesFor, finish, isBuild, sourceDir, targets, _ref;
  _ref = mimosaConfig.fubumvc, extensions = _ref.extensions, excludePaths = _ref.excludePaths, sourceDir = _ref.sourceDir, compiledDir = _ref.compiledDir, isBuild = _ref.isBuild, conventions = _ref.conventions;
  extensions = buildExtensions(mimosaConfig);
  options = {
    sourceDir: sourceDir,
    conventions: conventions
  };
  filesFor = function(target) {
    var files, outputFiles;
    files = findSourceFiles(target, extensions, excludePaths);
    outputFiles = _.map(files, function(f) {
      return transformPath(f, target, options);
    });
    return [target, files, outputFiles];
  };
  targets = getTargets(cwd);
  allTargetFiles = _.map(targets, filesFor);
  finish = trackCompletion("cleanAssets", targets, next);
  _.each(allTargetFiles, function(_arg) {
    var files, outputFiles, target;
    target = _arg[0], files = _arg[1], outputFiles = _arg[2];
    return clean([target, files, outputFiles], function() {
      return finish(target);
    });
  });
};

trackCompletion = function(title, initial, cb) {
  var done, remaining;
  remaining = [].concat(initial);
  done = function(dir) {
    remaining = _.without(remaining, dir);
    if (remaining.length === 0) {
      log("debug", "calling callback for " + title);
      return cb();
    }
  };
  return done;
};

clean = function(_arg, cb) {
  var dirs, files, finish, outputFiles, target;
  target = _arg[0], files = _arg[1], outputFiles = _arg[2];
  _.each(outputFiles, function(f) {
    return deleteFileSync(f);
  });
  dirs = _(outputFiles).map(function(f) {
    return path.dirname(f);
  }).unique().sortBy("length").reverse().value();
  finish = trackCompletion("clean", dirs, cb);
  return _(dirs).map(function(dir) {
    return [
      dir, function() {
        return finish(dir);
      }
    ];
  }).each(function(_arg1) {
    var cb, dir;
    dir = _arg1[0], cb = _arg1[1];
    return deleteDirectory(dir, cb);
  });
};

module.exports = {
  importAssets: importAssets,
  cleanAssets: cleanAssets
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWZ1YnVtdmNcXGxpYlxcZnVidS1pbXBvcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjOlxcaG9tZVxcZ2l0aHViXFxtaW1vc2EtZnVidW12Y1xcc3JjXFxmdWJ1LWltcG9ydC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxDQUFBO0FBQUEsSUFBQSxnV0FBQTs7QUFBQSxNQUVRLE9BQUEsQ0FBUSxRQUFSLEVBQVAsR0FGRCxDQUFBOztBQUFBLEtBR0EsR0FBUSxPQUFBLENBQVEsWUFBUixDQUFxQixDQUFDLEdBSDlCLENBQUE7O0FBQUEsRUFJQSxHQUFLLE9BQUEsQ0FBUSxJQUFSLENBSkwsQ0FBQTs7QUFBQSxJQUtBLEdBQU8sT0FBQSxDQUFRLE1BQVIsQ0FMUCxDQUFBOztBQUFBLEtBTUEsR0FBUSxPQUFBLENBQVEsVUFBUixDQU5SLENBQUE7O0FBQUEsTUFPQSxHQUFTLE9BQUEsQ0FBUSxRQUFSLENBUFQsQ0FBQTs7QUFBQSxDQVFBLEdBQUksT0FBQSxDQUFRLFFBQVIsQ0FSSixDQUFBOztBQUFBLFdBU0EsR0FBYyxPQUFBLENBQVEsUUFBUixDQUFpQixDQUFDLFdBVGhDLENBQUE7O0FBQUEsR0FVQSxHQUFNLE9BQU8sQ0FBQyxHQUFSLENBQUEsQ0FWTixDQUFBOztBQUFBLEVBV0EsR0FBSyxPQUFBLENBQVEsSUFBUixDQVhMLENBQUE7O0FBQUEsZUFhQSxHQUFrQixTQUFDLElBQUQsRUFBTyxVQUFQLEVBQW1CLFFBQW5CLEdBQUE7U0FDaEIsTUFBTSxDQUFDLG9CQUFQLENBQTRCLElBQTVCLENBQ0UsQ0FBQyxNQURILENBQ1UsU0FBQyxDQUFELEdBQUE7QUFDTixRQUFBLGdDQUFBO0FBQUEsSUFBQSxZQUFBLEdBQWUsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWLEVBQWdCLENBQWhCLENBQWYsQ0FBQTtBQUFBLElBQ0EsTUFBQSxHQUFTLEVBQUUsQ0FBQyxRQUFILENB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LENBR0csUUFISCxDQUlMLENBQUMsT0FKSSxDQUFBLENBS0wsQ0FBQyxLQUxJLENBQUEsQ0FGUCxDQUFBO0FBQUEsRUFTQSxNQUFBLEdBQVMsZUFBQSxDQUFnQixPQUFoQixFQUF5QixJQUF6QixFQUErQixFQUEvQixDQVRULENBQUE7U0FXQSxDQUFBLENBQUUsSUFBRixDQUNFLENBQUMsR0FESCxDQUNPLFNBQUMsR0FBRCxHQUFBO1dBQVM7TUFBQyxHQUFELEVBQU0sU0FBQSxHQUFBO2VBQU0sTUFBQSxDQUFPLEdBQVAsRUFBTjtNQUFBLENBQU47TUFBVDtFQUFBLENBRFAsQ0FFRSxDQUFDLElBRkgsQ0FFUSxTQUFDLEtBQUQsR0FBQTtBQUNKLFFBQUEsT0FBQTtBQUFBLElBRE0sZ0JBQUssYUFDWCxDQUFBO1dBQUEsZUFBQSxDQUFnQixHQUFoQixFQUFxQixFQUFyQixFQURJO0VBQUEsQ0FGUixFQVpNO0FBQUEsQ0FsUFIsQ0FBQTs7QUFBQSxNQW1RTSxDQUFDLE9BQVAsR0FBaUI7QUFBQSxFQUFDLGNBQUEsWUFBRDtBQUFBLEVBQWUsYUFBQSxXQUFmO0NBblFqQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcclxuXHJcbntsb2d9ID0gcmVxdWlyZSAnLi91dGlsJ1xyXG5jb2xvciA9IHJlcXVpcmUoJ2Fuc2ktY29sb3InKS5zZXRcclxuZnMgPSByZXF1aXJlICdmcydcclxucGF0aCA9IHJlcXVpcmUgJ3BhdGgnXHJcbndhdGNoID0gcmVxdWlyZSAnY2hva2lkYXInXHJcbndyZW5jaCA9IHJlcXVpcmUgJ3dyZW5jaCdcclxuXyA9IHJlcXVpcmUgJ2xvZGFzaCdcclxucGFyc2VTdHJpbmcgPSByZXF1aXJlKCd4bWwyanMnKS5wYXJzZVN0cmluZ1xyXG5jd2QgPSBwcm9jZXNzLmN3ZCgpXHJcblJ4ID0gcmVxdWlyZSBcInJ4XCJcclxuXHJcbmZpbmRTb3VyY2VGaWxlcyA9IChmcm9tLCBleHRlbnNpb25zLCBleGNsdWRlcykgLT5cclxuICB3cmVuY2gucmVhZGRpclN5bmNSZWN1cnNpdmUoZnJvbSlcclxuICAgIC5maWx0ZXIgKGYpIC0+XHJcbiAgICAgIG9yaWdpbmFsRmlsZSA9IHBhdGguam9pbiBmcm9tLCBmXHJcbiAgICAgIGlzRmlsZSA9IGZzLnN0YXRTeW5jKG9yaWdpbmFsRmlsZSkuaXNGaWxlKClcclxuICAgICAgaXNJbmNsdWRlZCA9IHNob3VsZEluY2x1ZGUgZiwgaXNGaWxlLCBleHRlbnNpb25zLCBleGNsdWRlc1xyXG4gICAgICBpc0luY2x1ZGVkIGFuZCBpc0ZpbGVcclxuICAgIC5tYXAgKGYpIC0+IHBhdGguam9pbiBmcm9tLCBmXHJcblxyXG5zaG91bGRJbmNsdWRlID0gKGYsIGlzRmlsZSwgZXh0ZW5zaW9ucywgZXhjbHVkZXMpIC0+XHJcbiAgI1RPRE86IG9ubHkgYWRkcyB0aGUgLiB0byB5b3UgZm9yIGV4dGVuc2lvbnMgaWYgaXRzIGxlZnQgb2ZmXHJcbiAgZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMubWFwIChleHQpIC0+IFwiLiN7ZXh0fVwiXHJcbiAgZXh0ID0gcGF0aC5leHRuYW1lIGZcclxuICBtYXRjaGVzRXh0ZW5zaW9uID0gbm90IGlzRmlsZSBvciBfLmNvbnRhaW5zIGV4dGVuc2lvbnMsIGV4dFxyXG4gIGF0Um9vdCA9IGlzRmlsZSBhbmQgZi5pbmRleE9mKHBhdGguc2VwKSA9PSAtMVxyXG4gIGV4Y2x1ZGVkID0gaXNFeGNsdWRlZEJ5Q29uZmlnIGYsIGV4Y2x1ZGVzXHJcbiAgbWF0Y2hlc0V4dGVuc2lvbiBhbmQgbm90IGV4Y2x1ZGVkIGFuZCBub3QgYXRSb290XHJcblxyXG53aXRob3V0UGF0aCA9IChmcm9tUGF0aCkgLT5cclxuICAoaW5wdXQpIC0+IGlucHV0LnJlcGxhY2UgXCIje2Zyb21QYXRofSN7cGF0aC5zZXB9XCIsICcnXHJcblxyXG5wcmVwYXJlRmlsZVdhdGNoZXIgPSAoZnJvbSwgZXh0ZW5zaW9ucywgZXhjbHVkZXMsIGlzQnVpbGQpIC0+XHJcbiAgI1RPRE86IG5vIG1vcmUgc3luYyBjYWxsc1xyXG4gIGZpbGVzICA9IGZpbmRTb3VyY2VGaWxlcyBmcm9tLCBleHRlbnNpb25zLCBleGNsdWRlc1xyXG4gIG51bWJlck9mRmlsZXMgID0gZmlsZXMubGVuZ3RoXHJcbiAgZml4UGF0aCA9IHdpdGhvdXRQYXRoIGZyb21cclxuXHJcbiAgd2F0Y2hTZXR0aW5ncyA9XHJcbiAgICBpZ25vcmVkOiAoZmlsZSkgLT5cclxuICAgICAgaXNGaWxlID0gZnMuc3RhdFN5bmMoZmlsZSkuaXNGaWxlKClcclxuICAgICAgZiA9IGZpeFBhdGggZmlsZVxyXG4gICAgICBub3QgKHNob3VsZEluY2x1ZGUgZiwgaXNGaWxlLCBleHRlbnNpb25zLCBleGNsdWRlcylcclxuICAgIHBlcnNpc3RlbnQ6IG5vdCBpc0J1aWxkXHJcbiAgICB1c2VQb2xsaW5nOiB0cnVlXHJcbiAgICBpbnRlcnZhbDogNTAwXHJcbiAgICBiaW5hcnlJbnRlcnZhbDogMTAwMFxyXG5cclxuICBvYnNlcnZhYmxlRm9yID0gKGV2ZW50KSAtPlxyXG4gICAgUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQgd2F0Y2hlciwgZXZlbnRcclxuXHJcbiAgd2F0Y2hlciA9IHdhdGNoLndhdGNoIGZyb20sIHdhdGNoU2V0dGluZ3NcclxuICBhZGRzID0gb2JzZXJ2YWJsZUZvciBcImFkZFwiXHJcbiAgY2hhbmdlcyA9IG9ic2VydmFibGVGb3IgXCJjaGFuZ2VcIlxyXG4gIHVubGlua3MgPSBvYnNlcnZhYmxlRm9yIFwidW5saW5rXCJcclxuICBlcnJvcnMgPSAob2JzZXJ2YWJsZUZvciBcImVycm9yXCIpLnNlbGVjdE1hbnkgKGUpIC0+IFJ4Lk9ic2VydmFibGUudGhyb3cgZVxyXG4gIHtudW1iZXJPZkZpbGVzLCBhZGRzLCBjaGFuZ2VzLCB1bmxpbmtzLCBlcnJvcnN9XHJcblxyXG5zdGFydFdhdGNoaW5nID0gKFxyXG4gIGZyb20sXHJcbiAge251bWJlck9mRmlsZXMsIGFkZHMsIGNoYW5nZXMsIHVubGlua3MsIGVycm9yc30sXHJcbiAgb3B0aW9ucyxcclxuICBjYikgLT5cclxuXHJcbiAgZnJvbVNvdXJjZSA9IChvYnMpIC0+XHJcbiAgICBvYnMubWVyZ2UoZXJyb3JzKVxyXG5cclxuICBpbml0aWFsQ29weSA9IGZyb21Tb3VyY2UoYWRkcykudGFrZShudW1iZXJPZkZpbGVzKVxyXG5cclxuICBpbml0aWFsQ29weS5zdWJzY3JpYmUoXHJcbiAgICAoZikgLT5cclxuICAgICAgY29weUZpbGUgZiwgZnJvbSwgb3B0aW9uc1xyXG4gICAgKGUpIC0+XHJcbiAgICAgIGxvZyBcIndhcm5cIiwgXCJGaWxlIHdhdGNoaW5nIGVycm9yOiAje2V9XCJcclxuICAgICAgbG9nIFwid2FyblwiLCBcImNhbGxpbmcgY2FsbGJhY2sgZm9yIGluaXRpYWwgY29weTogI3tmcm9tfVwiXHJcbiAgICAgIGNiKCkgaWYgY2JcclxuICAgICgpIC0+XHJcbiAgICAgIG9uZ29pbmdDb3B5ID0gZnJvbVNvdXJjZShhZGRzLm1lcmdlIGNoYW5nZXMpXHJcbiAgICAgIG9uZ29pbmdDb3B5LnN1YnNjcmliZShcclxuICAgICAgICAoZikgLT4gY29weUZpbGUgZiwgZnJvbSwgb3B0aW9uc1xyXG4gICAgICAgIChlKSAtPiBsb2cgXCJ3YXJuXCIsIFwiRmlsZSB3YXRjaGluZyBlcnJvcjogI3tlfVwiXHJcbiAgICAgIClcclxuICAgICAgbG9nIFwiZGVidWdcIiwgXCJjYWxsaW5nIGNhbGxiYWNrIGZvciBpbml0aWFsIGNvcHk6ICN7ZnJvbX1cIlxyXG4gICAgICBjYigpIGlmIGNiXHJcbiAgKVxyXG5cclxuICBkZWxldGVzID0gZnJvbVNvdXJjZSh1bmxpbmtzKVxyXG5cclxuICBkZWxldGVzLnN1YnNjcmliZShcclxuICAgIChmKSAtPlxyXG4gICAgICBvdXRGaWxlID0gdHJhbnNmb3JtUGF0aCBmLCBmcm9tLCBvcHRpb25zXHJcbiAgICAgIGRlbGV0ZUZpbGUgb3V0RmlsZVxyXG4gICAgKGUpIC0+IGxvZyBcIndhcm5cIiwgXCJGaWxlIHdhdGNoaW5nIGVycm9yczogI3tlfVwiXHJcbiAgKVxyXG5cclxuY29weUZpbGUgPSAoZmlsZSwgZnJvbSwgb3B0aW9ucykgLT5cclxuICBmcy5yZWFkRmlsZSBmaWxlLCAoZXJyLCBkYXRhKSAtPlxyXG4gICAgaWYgZXJyXHJcbiAgICAgIGxvZyBcImVycm9yXCIsIFwiRXJyb3IgcmVhZGluZyBmaWxlIFtbICN7ZmlsZX0gXV0sICN7ZXJyfVwiXHJcbiAgICAgIHJldHVyblxyXG5cclxuICAgIG91dEZpbGUgPSB0cmFuc2Zvcm1QYXRoIGZpbGUsIGZyb20sIG9wdGlvbnNcclxuXHJcbiAgICBkaXJuYW1lID0gcGF0aC5kaXJuYW1lIG91dEZpbGVcclxuICAgIHVubGVzcyBmcy5leGlzdHNTeW5jIGRpcm5hbWVcclxuICAgICAgd3JlbmNoLm1rZGlyU3luY1JlY3Vyc2l2ZSBkaXJuYW1lLCAwbzA3NzdcclxuXHJcbiAgICBmcy53cml0ZUZpbGUgb3V0RmlsZSwgZGF0YSwgKGVycikgLT5cclxuICAgICAgaWYgZXJyXHJcbiAgICAgICAgbG9nIFwiZXJyb3JcIiwgXCJFcnJvciByZWFkaW5nIGZpbGUgW1sgI3tmaWxlfSBdXSwgI3tlcnJ9XCJcclxuICAgICAgZWxzZVxyXG4gICAgICAgIGxvZyBcInN1Y2Nlc3NcIiwgXCJGaWxlIGNvcGllZCB0byBkZXN0aW5hdGlvbiBbWyAje291dEZpbGV9IF1dLlwiXHJcblxyXG5kZWxldGVGaWxlU3luYyA9IChmaWxlKSAtPlxyXG4gIGlmIGZzLmV4aXN0c1N5bmMgZmlsZVxyXG4gICAgZnMudW5saW5rU3luYyBmaWxlXHJcbiAgICBsb2cgXCJzdWNjZXNzXCIsIFwiRmlsZSBbWyAje2ZpbGV9IF1dIGRlbGV0ZWQuXCJcclxuXHJcbmRlbGV0ZUZpbGUgPSAoZmlsZSkgLT5cclxuICBmcy5leGlzdHMgZmlsZSwgKGV4aXN0cykgLT5cclxuICAgIGlmIGV4aXN0c1xyXG4gICAgICBmcy51bmxpbmsgZmlsZSwgKGVycikgLT5cclxuICAgICAgICBpZiBlcnJcclxuICAgICAgICAgIGxvZyBcImVycm9yXCIsIFwiRXJyb3IgZGVsZXRpbmcgZmlsZSBbWyAje2ZpbGV9IF1dLCAje2Vycn1cIlxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIGxvZyBcInN1Y2Nlc3NcIiwgXCJGaWxlIFtbICN7ZmlsZX0gXV0gZGVsZXRlZC5cIlxyXG5cclxuZGVsZXRlRGlyZWN0b3J5ID0gKGRpciwgY2IpIC0+XHJcbiAgaWYgZnMuZXhpc3RzU3luYyBkaXJcclxuICAgIGZzLnJtZGlyIGRpciwgKGVycikgLT5cclxuICAgICAgaWYgZXJyPy5jb2RlIGlzIG5vdCBcIkVOT1RFTVBUWVwiXHJcbiAgICAgICAgbG9nIFwiZXJyb3JcIiwgXCJVbmFibGUgdG8gZGVsZXRlIGRpcmVjdG9yeSBbWyAje2Rpcn0gXV1cIlxyXG4gICAgICAgIGxvZyBcImVycm9yXCIsIGVyclxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgbG9nIFwiaW5mb1wiLCBcIkRlbGV0ZWQgZW1wdHkgZGlyZWN0b3J5IFtbICN7ZGlyfSBdXVwiXHJcbiAgICAgIGNiKCkgaWYgY2JcclxuICBlbHNlIGNiKCkgaWYgY2JcclxuXHJcbnRyYW5zZm9ybVBhdGggPSAoZmlsZSwgZnJvbSwge3NvdXJjZURpciwgY29udmVudGlvbnN9KSAtPlxyXG4gIGZpeFBhdGggPSB3aXRob3V0UGF0aCBmcm9tXHJcbiAgcmVzdWx0ID0gXy5yZWR1Y2UoY29udmVudGlvbnMsIChhY2MsIHttYXRjaCwgdHJhbnNmb3JtfSkgLT5cclxuICAgIGV4dCA9IHBhdGguZXh0bmFtZSBhY2NcclxuICAgIGlmIG1hdGNoIGFjYywgZXh0IHRoZW4gdHJhbnNmb3JtIGFjYywgcGF0aCBlbHNlIGFjY1xyXG4gICwgZml4UGF0aCBmaWxlKVxyXG4gIHBhdGguam9pbiBzb3VyY2VEaXIsIHJlc3VsdFxyXG5cclxuZXhjbHVkZVN0cmF0ZWdpZXMgPVxyXG4gIHN0cmluZzpcclxuICAgIGlkZW50aXR5OiBfLmlzU3RyaW5nXHJcbiAgICBwcmVkaWNhdGU6IChleCwgcGF0aCkgLT4gcGF0aC5pbmRleE9mKGV4KSA9PSAwXHJcbiAgcmVnZXg6XHJcbiAgICBpZGVudGl0eTogXy5pc1JlZ0V4cFxyXG4gICAgcHJlZGljYXRlOiAoZXgsIHBhdGgpIC0+IGV4LnRlc3QgcGF0aFxyXG5cclxuaXNFeGNsdWRlZEJ5Q29uZmlnID0gKHBhdGgsIGV4Y2x1ZGVzKSAtPlxyXG4gIG9mVHlwZSA9IChtZXRob2QpIC0+XHJcbiAgICBleGNsdWRlcy5maWx0ZXIgKGYpIC0+IG1ldGhvZChmKVxyXG5cclxuICBfLmFueSBleGNsdWRlU3RyYXRlZ2llcywgKHtpZGVudGl0eSwgcHJlZGljYXRlfSkgLT5cclxuICAgIF8uYW55IChvZlR5cGUgaWRlbnRpdHkpLCAoZXgpIC0+IHByZWRpY2F0ZSBleCwgcGF0aFxyXG5cclxucGFyc2VYbWwgPSAoY29udGVudCkgLT5cclxuICByZXN1bHQgPSB7fVxyXG4gIHBhcnNlU3RyaW5nIGNvbnRlbnQsIChlcnIsIG91dHB1dCkgLT5cclxuICAgIHJlc3VsdCA9IG91dHB1dFxyXG4gIHJlc3VsdFxyXG5cclxuZmluZEJvdHRsZXMgPSAoc291cmNlRGlyKSAtPlxyXG4gIGxpbmtzRmlsZSA9IHBhdGguam9pbiBzb3VyY2VEaXIsIFwiLmxpbmtzXCJcclxuICBpZiBmcy5leGlzdHNTeW5jIGxpbmtzRmlsZVxyXG4gICAgZW5jb2RpbmcgPSBcInV0ZjhcIlxyXG4gICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyBsaW5rc0ZpbGUsIHtlbmNvZGluZ31cclxuICAgIGxpbmtzWG1sID0gcGFyc2VYbWwgZGF0YVxyXG4gICAgYm90dGxlcyA9IGxpbmtzWG1sPy5saW5rcz8uaW5jbHVkZSB8fCBbXVxyXG4gICAgdW5sZXNzIGJvdHRsZXMgYW5kIF8uaXNBcnJheSBib3R0bGVzXHJcbiAgICAgIGxvZyBcImVycm9yXCIsIFwiLmxpbmtzIGZpbGUgbm90IHZhbGlkXCJcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgYm90dGxlc1xyXG4gIGVsc2VcclxuICAgIFtdXHJcblxyXG5idWlsZEV4dGVuc2lvbnMgPSAoY29uZmlnKSAtPlxyXG4gIHtjb3B5LCBqYXZhc2NyaXB0LCBjc3N9ID0gY29uZmlnLmV4dGVuc2lvbnNcclxuICBleHRlbnNpb25zID0gXy51bmlvbiBjb3B5LCBqYXZhc2NyaXB0LCBjc3NcclxuXHJcbmltcG9ydEFzc2V0cyA9IChtaW1vc2FDb25maWcsIG9wdGlvbnMsIG5leHQpIC0+XHJcbiAge2V4Y2x1ZGVQYXRocywgc291cmNlRGlyLCBjb21waWxlZERpciwgaXNCdWlsZCwgY29udmVudGlvbnN9ID1cclxuICAgIG1pbW9zYUNvbmZpZy5mdWJ1bXZjXHJcblxyXG4gIGV4dGVuc2lvbnMgPSBidWlsZEV4dGVuc2lvbnMgbWltb3NhQ29uZmlnXHJcblxyXG4gIGxvZyBcImRlYnVnXCIsIFwiaW1wb3J0aW5nIGFzc2V0c1wiXHJcbiAgbG9nIFwiZGVidWdcIiwgXCJhbGxvd2VkIGV4dGVuc2lvbnMgW1sgI3tleHRlbnNpb25zfSBdXVwiXHJcbiAgbG9nIFwiZGVidWdcIiwgXCJleGNsdWRlUGF0aHMgW1sgI3tleGNsdWRlUGF0aHN9IF1dXCJcclxuXHJcbiAgaW1wb3J0RnJvbSA9ICh0YXJnZXQsIGNhbGxiYWNrKSAtPlxyXG4gICAgZmlsZVdhdGNoZXIgPSBwcmVwYXJlRmlsZVdhdGNoZXIgdGFyZ2V0LCBleHRlbnNpb25zLCBleGNsdWRlUGF0aHMsIGlzQnVpbGRcclxuICAgIHN0YXJ0V2F0Y2hpbmcgdGFyZ2V0LCBmaWxlV2F0Y2hlciwge3NvdXJjZURpciwgY29udmVudGlvbnN9LCBjYWxsYmFja1xyXG5cclxuICB0YXJnZXRzID0gZ2V0VGFyZ2V0cyBjd2RcclxuXHJcbiAgZmluaXNoID0gdHJhY2tDb21wbGV0aW9uIFwiaW1wb3J0QXNzZXRzXCIsIHRhcmdldHMsIG5leHRcclxuXHJcbiAgXy5lYWNoIHRhcmdldHMsICh0YXJnZXQpIC0+IGltcG9ydEZyb20gdGFyZ2V0LCAoKSAtPiBmaW5pc2godGFyZ2V0KVxyXG4gIHJldHVyblxyXG5cclxuZ2V0VGFyZ2V0cyA9IChkaXIpIC0+XHJcbiAgYm90dGxlcyA9IF8ubWFwIChmaW5kQm90dGxlcyBkaXIpLCAoYm90dGxlKSAtPiBwYXRoLnJlc29sdmUgZGlyLCBib3R0bGVcclxuICB0YXJnZXRzID0gW10uY29uY2F0IGJvdHRsZXMsIFtkaXJdXHJcblxyXG5jbGVhbkFzc2V0cyA9IChtaW1vc2FDb25maWcsIG9wdGlvbnMsIG5leHQpIC0+XHJcbiAge2V4dGVuc2lvbnMsIGV4Y2x1ZGVQYXRocywgc291cmNlRGlyLCBjb21waWxlZERpciwgaXNCdWlsZCwgY29udmVudGlvbnN9ID1cclxuICAgIG1pbW9zYUNvbmZpZy5mdWJ1bXZjXHJcbiAgZXh0ZW5zaW9ucyA9IGJ1aWxkRXh0ZW5zaW9ucyBtaW1vc2FDb25maWdcclxuICBvcHRpb25zID0ge3NvdXJjZURpciwgY29udmVudGlvbnN9XHJcblxyXG4gIGZpbGVzRm9yID0gKHRhcmdldCkgLT5cclxuICAgIGZpbGVzICA9IGZpbmRTb3VyY2VGaWxlcyB0YXJnZXQsIGV4dGVuc2lvbnMsIGV4Y2x1ZGVQYXRoc1xyXG4gICAgb3V0cHV0RmlsZXMgPSBfLm1hcCBmaWxlcywgKGYpIC0+IHRyYW5zZm9ybVBhdGggZiwgdGFyZ2V0LCBvcHRpb25zXHJcbiAgICBbdGFyZ2V0LCBmaWxlcywgb3V0cHV0RmlsZXNdXHJcblxyXG4gIHRhcmdldHMgPSBnZXRUYXJnZXRzIGN3ZFxyXG4gIGFsbFRhcmdldEZpbGVzID0gXy5tYXAgdGFyZ2V0cywgZmlsZXNGb3JcclxuXHJcbiAgZmluaXNoID0gdHJhY2tDb21wbGV0aW9uIFwiY2xlYW5Bc3NldHNcIiwgdGFyZ2V0cywgbmV4dFxyXG5cclxuICBfLmVhY2ggYWxsVGFyZ2V0RmlsZXMsIChbdGFyZ2V0LCBmaWxlcywgb3V0cHV0RmlsZXNdKSAtPlxyXG4gICAgY2xlYW4gW3RhcmdldCwgZmlsZXMsIG91dHB1dEZpbGVzXSwgKCkgLT4gZmluaXNoKHRhcmdldClcclxuICByZXR1cm5cclxuXHJcbnRyYWNrQ29tcGxldGlvbiA9ICh0aXRsZSwgaW5pdGlhbCwgY2IpIC0+XHJcbiAgcmVtYWluaW5nID0gW10uY29uY2F0IGluaXRpYWxcclxuICBkb25lID0gKGRpcikgLT5cclxuICAgIHJlbWFpbmluZyA9IF8ud2l0aG91dCByZW1haW5pbmcsIGRpclxyXG4gICAgaWYgcmVtYWluaW5nLmxlbmd0aCA9PSAwXHJcbiAgICAgIGxvZyBcImRlYnVnXCIsIFwiY2FsbGluZyBjYWxsYmFjayBmb3IgI3t0aXRsZX1cIlxyXG4gICAgICBjYigpXHJcbiAgZG9uZVxyXG5cclxuY2xlYW4gPSAoW3RhcmdldCwgZmlsZXMsIG91dHB1dEZpbGVzXSwgY2IpIC0+XHJcbiAgXy5lYWNoIG91dHB1dEZpbGVzLCAoZikgLT4gZGVsZXRlRmlsZVN5bmMgZlxyXG5cclxuICBkaXJzID0gXyBvdXRwdXRGaWxlc1xyXG4gICAgLm1hcCAoZikgLT4gcGF0aC5kaXJuYW1lIGZcclxuICAgIC51bmlxdWUoKVxyXG4gICAgLnNvcnRCeSBcImxlbmd0aFwiXHJcbiAgICAucmV2ZXJzZSgpXHJcbiAgICAudmFsdWUoKVxyXG5cclxuICBmaW5pc2ggPSB0cmFja0NvbXBsZXRpb24gXCJjbGVhblwiLCBkaXJzLCBjYlxyXG5cclxuICBfIGRpcnNcclxuICAgIC5tYXAgKGRpcikgLT4gW2RpciwgKCkgLT4gZmluaXNoKGRpcildXHJcbiAgICAuZWFjaCAoW2RpciwgY2JdKSAtPlxyXG4gICAgICBkZWxldGVEaXJlY3RvcnkgZGlyLCBjYlxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7aW1wb3J0QXNzZXRzLCBjbGVhbkFzc2V0c31cclxuIl19
